{% extends 'base.html.twig' %}
{% block title %}Inscription{% endblock %}

{% block stylesheets %}
  {{ parent() }}
  <link rel="stylesheet" href="{{ asset('styles/auth.css') }}">
{% endblock %}

{% block body %}
<div class="auth-wrap">
  <div class="auth-card">
    <h1 class="auth-title">Créer un compte</h1>
    <p class="auth-sub">Rejoignez la communauté CookTogether.</p>

    {% for label, messages in app.flashes %}
      {% for message in messages %}
        <div class="flash">{{ message }}</div>
      {% endfor %}
    {% endfor %}

    {{ form_start(registrationForm, { attr: { class: 'auth-form' } }) }}

      {# Exemple : si tu as username dans ton RegistrationFormType #}
      {% if registrationForm.username is defined %}
        <div class="form-group">
          {{ form_label(registrationForm.username, 'Pseudo') }}
          {{ form_widget(registrationForm.username, { attr: { placeholder: 'Votre pseudo' } }) }}
          {{ form_errors(registrationForm.username) }}
        </div>
      {% endif %}

      <div class="form-group">
        {{ form_label(registrationForm.email, 'Email') }}
        {{ form_widget(registrationForm.email, { attr: { placeholder: 'ex: alex@mail.com' } }) }}
        {{ form_errors(registrationForm.email) }}
      </div>

      {# selon ton form: plainPassword.first/second ou plainPassword #}
      {% if registrationForm.plainPassword is defined %}
        <div class="form-group">
          {{ form_label(registrationForm.plainPassword, 'Mot de passe') }}
          {{ form_widget(registrationForm.plainPassword, { attr: { placeholder: 'Mot de passe' } }) }}
          {{ form_errors(registrationForm.plainPassword) }}
        </div>
      {% else %}
        <div class="form-row">
          <div class="form-group">
            {{ form_label(registrationForm.plainPassword.first, 'Mot de passe') }}
            {{ form_widget(registrationForm.plainPassword.first, { attr: { placeholder: 'Mot de passe' } }) }}
            {{ form_errors(registrationForm.plainPassword.first) }}
          </div>
          <div class="form-group">
            {{ form_label(registrationForm.plainPassword.second, 'Confirmer') }}
            {{ form_widget(registrationForm.plainPassword.second, { attr: { placeholder: 'Confirmer' } }) }}
            {{ form_errors(registrationForm.plainPassword.second) }}
          </div>
        </div>
      {% endif %}

      {{ form_rest(registrationForm) }}

      <div class="auth-actions">
        <button class="btn-primary">Créer mon compte</button>
        <div class="auth-alt">
          Déjà inscrit ?
          <a href="{{ path('app_login') }}">Se connecter</a>
        </div>
      </div>

    {{ form_end(registrationForm) }}
  </div>
</div>
{% endblock %}
