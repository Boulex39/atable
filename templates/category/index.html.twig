{% extends 'base.html.twig' %}

{% block title %}Gestion des catégories{% endblock %}

{% block stylesheets %}
{{ parent() }}
<link rel="stylesheet" href="{{ asset('styles/admin.css') }}">
{% endblock %}

{% block body %}
<section class="admin-dashboard">
  <h1>Liste des catégories</h1>

  <div class="actions-top">
    <a href="{{ path('app_category_new') }}" class="btn-add">+ Nouvelle catégorie</a>
  </div>

  <table class="category-table">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Date de création</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for category in categories %}
        <tr>
          <td>{{ category.name }}</td>
          <td>{{ category.createdAt ? category.createdAt|date('d/m/Y H:i') : '-' }}</td>
          <td>
            <a href="{{ path('app_category_edit', {'id': category.id}) }}" class="btn-edit">Modifier</a>
            {{ include('category/_delete_form.html.twig') }}
          </td>
        </tr>
      {% else %}
        <tr>
          <td colspan="3">Aucune catégorie trouvée.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</section>
{% endblock %}
